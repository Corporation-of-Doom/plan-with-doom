INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(1, 'Vivian', 'Victoria', 'Ng', 'vng05@uoguelph.ca', 'Corporation of Doom', 'https://www.linkedin.com/in/vivian-ng-3401b1151/', 'https://www.facebook.com/vivian.ng.330467', 'https://www.instagram.com/vivian.vng/', NULL, '9057852424', 'Public', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, 'I enjoy naps and only green toothpaste.', 'https://github.com/VivianNg', 'profile', 'LEFT');
INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(2, 'Bhavanthy', NULL, 'Mod', 'bmodchal@uoguelph.ca', 'Corporation of Doom', 'https://www.linkedin.com/in/bhavanthy-modchalingam-38538213b/', 'https://www.facebook.com/bhavanthy.mod', 'https://www.instagram.com/bhavanthy96/', 'https://twitter.com/BhavanthyMod', '4167852424', 'Private', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, 'I will be studying abroad next semester in Scotland.', 'https://github.com/bhavanthy', 'myevents', 'LEFT');
INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(3, 'Alliyya', 'Renissa', 'Mo', 'alliyya@uoguelph.ca', 'Corporation of Doom', 'https://www.linkedin.com/in/alliyya-mo/', 'https://www.facebook.com/Alliyya', 'https://www.instagram.com/alliyyamo/', NULL, '9057852424', 'Public', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, 'It would be nice if we did not fail', 'https://github.com/alliyya', 'manageevents', 'BOTTOM');
INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(4, 'Tamara', NULL, 'Charchoghlyan', 'tamaracharch@gmail.com', 'Corporation of Doom', 'https://www.linkedin.com/in/tamara-charchoghlyan-484602116/', 'https://www.facebook.com/tamara.charchoghlyan', 'https://www.instagram.com/t_charch/', NULL, '9057852424', 'Public', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, 'A good noodle who enjoys Gilmore Girls and chickpeas', 'https://github.com/tcharcho', 'calendar', 'TOP');
INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(5, 'Tom', NULL, 'Riddle', 'alliyyamo.dev@gmail.com', 'Death Eaters', NULL, NULL, NULL, NULL, NULL, 'Private', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, 'I can make things move without touching them. I can make animals do what I want them to do, without training them. I can make bad things happen to people who annoy me. I can make them hurt if I want to', NULL, 'manageevents', 'RIGHT');
INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(6, 'Tony', NULL, 'Stark', 'ironman@avengers.ca', 'Avengers', NULL, NULL, NULL, NULL, NULL, 'Public', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, 'I never got to say goodbye to my father. There''s questions I would''ve asked him. I would''ve asked him how he felt about what his company did, if he was conflicted, if he ever had doubts. Or maybe he was every inch of man we remember from the newsreels. I saw young Americans killed by the very weapons I created to defend them and protect them. And I saw that I had become part of a system that is comfortable with zero-accountability.', NULL, 'myevents', 'LEFT');
INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(7, 'Steve', NULL, 'Rogers', 'captamerica@avengers.ca', 'Avengers', NULL, NULL, NULL, NULL, NULL, 'Public', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, 'When Captain America throws his mighty shield,
All those who chose to oppose his shield must yield!
If he''s led to a fight and a duel is due,
Then the red and the white and the blue will come through,
When Captain America throws his mighty shield!', NULL, 'myevents', 'LEFT');
INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(8, 'Bucky', NULL, 'Barnes', 'wintersoldier@hydra.ca', 'Avengers', NULL, NULL, NULL, NULL, NULL, 'Private', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, NULL, NULL, 'myevents', 'LEFT');
INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(9, 'Thor', NULL, 'Odinson', 'thundergod@asgard.ca', 'Avengers', NULL, NULL, NULL, NULL, NULL, 'Public', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, 'This mortal form grows weak. I require sustenance!', NULL, 'profile', 'LEFT');
INSERT INTO public.doom_user
(id, first_name, middle_name, last_name, email, organization, linked_in, facebook, instagram, twitter, phone_number, privacy_settings, picture_path, password_hash, confirmed, about_me, website, landing_page, menu_orientation)
VALUES(10, 'Loki', NULL, 'Laufeyson', 'mischief@jotunheim.ca', 'Avengers', NULL, NULL, NULL, NULL, NULL, 'Private', NULL, '$2b$12$rF.modokh7SuBpRHdg/xA.KN/zYvx0HmaxasTXmzWIiWcLPlhfWH2', false, 'I am the monster parents tell their children about at night.', NULL, 'myevents', 'LEFT');




-- 3 events
INSERT INTO Event (creator_id, name, start_time, end_time, capacity_type, max_capacity, current_capacity, website, location_link) VALUES (3,'CUSEC',TIMESTAMP '2019-10-23 8:30:00+02', TIMESTAMP '2019-11-27 10:30:00+02', 'FCFS_E',6,0,'http://2018.cusec.net/','https://goo.gl/maps/w38KNq2BNLB2');
INSERT INTO Event (creator_id, name, start_time, end_time, capacity_type, max_capacity) VALUES (2,'Animefest',TIMESTAMP '2019-10-21 12:30:00+02', TIMESTAMP '2019-11-29 10:30:00+02', 'FCFS_P',3);
INSERT INTO Event (creator_id, name, start_time, end_time, capacity_type) VALUES (1,'Doomsday convention',TIMESTAMP '2018-10-30 1:00:00', TIMESTAMP '2018-11-02 10:30:00', 'FFA');
INSERT INTO Event (creator_id, name, start_time, end_time, capacity_type,max_capacity) VALUES (6,'Avenger Meetup',TIMESTAMP '2019-05-03 10:30:00', TIMESTAMP '2019-11-24 10:30:00', 'FCFS_E',5);
INSERT INTO Event (creator_id, name, start_time, end_time, capacity_type,max_capacity) VALUES (5,'Wizarding War',TIMESTAMP '2018-11-03 10:30:00', TIMESTAMP '2019-12-24 10:30:00', 'FCFS_P',10);


INSERT INTO Event_Organizer (user_id, event_id) VALUES (3,1);
INSERT INTO Event_Organizer (user_id, event_id) VALUES (2,2);
INSERT INTO Event_Organizer (user_id, event_id) VALUES (1,3);
INSERT INTO Event_Organizer (user_id, event_id) VALUES (6,4);
INSERT INTO Event_Organizer (user_id, event_id) VALUES (7,4);
INSERT INTO Event_Organizer (user_id, event_id) VALUES (1,4);
INSERT INTO Event_Organizer (user_id, event_id) VALUES (3,4);
INSERT INTO Event_Organizer (user_id, event_id) VALUES (5,5);



INSERT INTO Seminar (event_id, name, start_time, end_time, capacity_type) VALUES (3,'Preparing for your doom',TIMESTAMP '2019-10-20 10:30:00+02', TIMESTAMP '2019-11-20 12:30:00+02', 'FFA');
INSERT INTO Seminar (event_id, name, start_time, end_time, capacity_type, max_capacity) VALUES (2,'How to Weeb',TIMESTAMP '2019-10-22 12:30:00+02', TIMESTAMP '2019-11-22 13:30:00+02', 'FCFS_E',2);
INSERT INTO Seminar (event_id, name, start_time, end_time, capacity_type, max_capacity) VALUES (1,'Hackathon',TIMESTAMP '2019-10-24 8:30:00+02', TIMESTAMP '2019-11-24 10:30:00+02', 'FCFS_P',6);
INSERT INTO Seminar (event_id, name, start_time, end_time, capacity_type, max_capacity) VALUES (3,'Alpha Demo',TIMESTAMP '2018-10-31 14:50:00', TIMESTAMP '2018-10-31 15:00:00', 'FCFS_P',5);
INSERT INTO Seminar (event_id, name, start_time, end_time, capacity_type, max_capacity) VALUES (3,'RC Demo',TIMESTAMP '2018-11-28 14:50:00', TIMESTAMP '2018-11-28 15:00:00', 'FCFS_P',5);

INSERT INTO Seminar_Organizer (user_id, seminar_id) VALUES (3,1);
INSERT INTO Seminar_Organizer (user_id, seminar_id) VALUES (2,2);
INSERT INTO Seminar_Organizer (user_id, seminar_id) VALUES (4,3);
INSERT INTO Seminar_Organizer (user_id, seminar_id) VALUES (5,4);
INSERT INTO Seminar_Organizer (user_id, seminar_id) VALUES (5,5);

-- Adding users to events
INSERT INTO Event_Participation (user_id, event_id, attending) VALUES (10,1,True);

INSERT INTO Event_Participation (user_id, event_id, attending) VALUES (1,2,True);
INSERT INTO Event_Participation (user_id, event_id, attending) VALUES (3,2,True);
INSERT INTO Event_Participation (user_id, event_id, attending) VALUES (5,2,True);

INSERT INTO Event_Participation (user_id, event_id, attending) VALUES (10,3,True);
INSERT INTO Event_Participation (user_id, Event_id, attending) VALUES (1,3,True);
INSERT INTO Event_Participation (user_id, Event_id, attending) VALUES (2,3,True);
INSERT INTO Event_Participation (user_id, Event_id, attending) VALUES (3,3,True);
INSERT INTO Event_Participation (user_id, Event_id, attending) VALUES (4,3,True);
INSERT INTO Event_Participation (user_id, Event_id, attending) VALUES (5,3,True);

INSERT INTO Event_Participation (user_id, event_id, attending) VALUES (3,4,True);
INSERT INTO Event_Participation (user_id, event_id, attending) VALUES (7,4,True);
INSERT INTO Event_Participation (user_id, event_id, attending) VALUES (8,4,True);
INSERT INTO Event_Participation (user_id, event_id, attending) VALUES (9,4,True);
INSERT INTO Event_Participation (user_id, event_id, following) VALUES (10,4,True);

-- Adding users to seminars
INSERT INTO Seminar_Participation (user_id, seminar_id, attending) VALUES (2,2,True);
INSERT INTO Seminar_Participation (user_id, seminar_id, following) VALUES (3,2,True);
INSERT INTO Seminar_Participation (user_id, seminar_id, attending) VALUES (5,2,True);

INSERT INTO Seminar_Participation (user_id, seminar_id, following) VALUES (3,4,True);

INSERT INTO Seminar_Participation (user_id, seminar_id, attending) VALUES (1,5,True);
INSERT INTO Seminar_Participation (user_id, seminar_id, attending) VALUES (2,5,True);
INSERT INTO Seminar_Participation (user_id, seminar_id, attending) VALUES (3,5,True);
INSERT INTO Seminar_Participation (user_id, seminar_id, attending) VALUES (4,5,True);
INSERT INTO Seminar_Participation (user_id, seminar_id, attending) VALUES (5,5,True);

INSERT INTO Seminar_Wait_list (user_id, seminar_id,date_added) VALUES (3,2, TIMESTAMP '2019-10-23 8:30:00+02');
INSERT INTO Event_Wait_list (user_id, event_id,date_added) VALUES (10,2, TIMESTAMP '2019-10-29 8:30:00+02');


-- 2 Annoucements
INSERT INTO Event_Announcement (event_id, message, date_created, date_modified) VALUES (3,'The end is nigh, remember your wallet',TIMESTAMP '2018-10-31 8:30:00', TIMESTAMP '2018-10-31 19:00:00');
INSERT INTO Event_Announcement (event_id, message, date_created, date_modified) VALUES (3,'Remember your doom',TIMESTAMP '2018-10-31 8:30:00', TIMESTAMP '2018-11-01 8:45:00');
INSERT INTO Seminar_Announcement (seminar_id, message, date_created, date_modified) VALUES (4,'Bug Fixing Party',TIMESTAMP '2018-10-31 8:30:00', TIMESTAMP '2018-10-13 8:30:00');
INSERT INTO Seminar_Announcement (seminar_id, message, date_created, date_modified) VALUES (3,'Reminder to participants to bring laptops',TIMESTAMP '2018-10-23 8:30:00+02', TIMESTAMP '2018-10-23 8:30:00+02');


-- One user following
INSERT INTO User_Following (user_id, following_user_id) VALUES (4,1);

-- Updating current capacity of the events in the DB
DO
$do$
BEGIN
    FOR i IN 1..5 LOOP
    
    
        UPDATE "event" 
            SET current_capacity =subquery.count
        FROM
            (SELECT count(*)
            FROM event_participation
            WHERE event_id = i AND attending = true) AS subquery
        WHERE event.id=i;
    
        UPDATE "seminar" 
            SET current_capacity =subquery.count
        FROM
            (SELECT count(*)
            FROM seminar_participation
            WHERE seminar_id = i AND attending = true) AS subquery
        WHERE seminar.id=i;



   END LOOP;
END
$do$;


